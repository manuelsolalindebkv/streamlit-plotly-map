(this.webpackJsonpstreamlit_plotly_map=this.webpackJsonpstreamlit_plotly_map||[]).push([[0],{1364:function(t,e,a){"use strict";a.r(e);var o=a(22),l=a.n(o),n=a(562),c=a.n(n),s=a(198),r=a(564),i=a.n(r),m=a(565),d=a.n(m),u=a(309);const p=a.n(u)()(d.a);var h=t=>{const{data:e,layout:a,onSelected:n,selection_color:c="red",max_selections:s}=t;let[r,i]=Object(o.useState)(null),[m,d]=Object(o.useState)([]),[u,h]=Object(o.useState)([]),[v,y]=Object(o.useState)(a);Object(o.useEffect)(()=>{i(e[0]);let t=e[0].lat.map((t,a)=>({lat:t,lon:e[0].lon[a],customdata:e[0].customdata[a]}));h(t),y(a)},[]);let _=[{...r,lat:u.map(t=>t.lat),lon:u.map(t=>t.lon),customdata:u.map(t=>t.customdata)},{...r,lat:m.map(t=>t.lat),lon:m.map(t=>t.lon),customdata:m.map(t=>t.customdata),marker:{color:c}}];return l.a.createElement(p,{className:"plot-container",style:{width:"100%",height:"100%"},data:_,layout:v,onSelected:t=>{try{const e=m.concat(u);console.log(t.points);let a=t.points.map(t=>({lat:t.lat,lon:t.lon,customdata:t.customdata}));s&&a.length>s&&(a=a.slice(-s),alert("You can only select "+s+" points"));let o=e.filter(t=>!a.find(e=>{return o=t,(a=e).lat===o.lat&&a.lon===o.lon;var a,o}));d(a),h(o),n(a)}catch(e){return void console.log(e)}},onInitialized:t=>{console.log("onInitialized"),console.log(t)}})};var v=Object(s.b)(t=>{let{args:e}=t;const a=JSON.parse(e.plot_obj),n=e.override_height,c=e.override_width,r=e.max_selections,m=e.selection_color,d=e.click_event,u=e.select_event,p=e.hover_event;Object(o.useEffect)(()=>{s.a.setFrameHeight(n)},[n]);const v=t=>{let e=JSON.stringify(t);s.a.setComponentValue(e)};return a.layout.mapbox?l.a.createElement(h,{data:a.data,layout:a.layout,max_selections:r,revision:1,selection_color:m,onSelected:u?v:void 0}):l.a.createElement(i.a,{data:a.data,layout:a.layout,config:a.data,frames:a.frames,onClick:d?v:void 0,onSelected:u?v:void 0,onHover:p?v:void 0,style:{width:c,height:n},className:"stPlotlyChart"})});c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(v,null)),document.getElementById("root"))},570:function(t,e,a){t.exports=a(1364)},883:function(t,e){}},[[570,1,2]]]);
//# sourceMappingURL=main.33245a55.chunk.js.map